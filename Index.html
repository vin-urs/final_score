<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Score Tracker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 30px;
    }
    input[type="text"], input[type="number"] {
      padding: 5px;
      margin: 5px;
    }
    button {
      padding: 6px 12px;
      margin: 5px;
    }
    table {
      border-collapse: collapse;
      margin-top: 20px;
      width: 100%;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: center;
    }
    th {
      background-color: #f5f5f5;
    }
  </style>
</head>
<body>

  <h1>Game Score Tracker</h1>

  <h3>Add Player</h3>
  <input type="text" id="playerNameInput" placeholder="Player name" />
  <button onclick="addPlayer()">Add Player</button>

  <h3>Controls</h3>
  <button onclick="addRound()">Add Round</button>
  <button onclick="resetGame()">Reset Game</button>

  <h3>Scoreboard</h3>
  <table id="scoreTable">
    <!-- Table will be built dynamically -->
  </table>

  <script>
    let players = [];
    let rounds = 0;

    function addPlayer() {
      const name = document.getElementById('playerNameInput').value.trim();
      if (!name) return alert('Enter a player name.');
      if (players.some(p => p.name === name)) return alert('Player already exists.');

      players.push({ name, scores: [] });
      document.getElementById('playerNameInput').value = '';
      renderTable();
    }

    function addRound() {
      rounds++;
      for (const player of players) {
        player.scores.push(0); // default score is 0
      }
      renderTable();
    }

    function updateScore(playerIndex, roundIndex, value) {
      const score = parseInt(value);
      if (!isNaN(score)) {
        players[playerIndex].scores[roundIndex] = score;
        renderTable(); // re-render to update totals
      }
    }

    function resetGame() {
      if (confirm('Reset the game? This will clear all data.')) {
        players = [];
        rounds = 0;
        renderTable();
      }
    }

    function renderTable() {
      const table = document.getElementById('scoreTable');
      table.innerHTML = '';

      // Header
      const headerRow = document.createElement('tr');
      headerRow.innerHTML = `<th>Player</th>`;
      for (let i = 0; i < rounds; i++) {
        headerRow.innerHTML += `<th>Round ${i + 1}</th>`;
      }
      headerRow.innerHTML += `<th>Total</th>`;
      table.appendChild(headerRow);

      // Player Rows
      players.forEach((player, pIndex) => {
        const row = document.createElement('tr');
        row.innerHTML = `<td>${player.name}</td>`;

        let total = 0;

        for (let rIndex = 0; rIndex < rounds; rIndex++) {
          const score = player.scores[rIndex] || 0;
          total += score;

          row.innerHTML += `
            <td>
              <input type="number" value="${score}" 
                onchange="updateScore(${pIndex}, ${rIndex}, this.value)" 
                style="width: 60px;" />
            </td>`;
        }

        row.innerHTML += `<td><strong>${total}</strong></td>`;
        table.appendChild(row);
      });
    }
  </script>

</body>
</html>
