<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vertical Round Score Tracker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 30px;
    }
    input[type="text"], input[type="number"] {
      padding: 5px;
      margin: 5px;
    }
    button {
      padding: 6px 12px;
      margin: 5px;
    }
    table {
      border-collapse: collapse;
      margin-top: 20px;
      width: 100%;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: center;
    }
    th {
      background-color: #f5f5f5;
    }
    td input {
      width: 60px;
    }
  </style>
</head>
<body>

  <h1>Vertical Round Score Tracker</h1>

  <h3>Add Player</h3>
  <input type="text" id="playerNameInput" placeholder="Player name" />
  <button onclick="addPlayer()">Add Player</button>

  <h3>Controls</h3>
  <button onclick="addRound()">Add Round</button>
  <button onclick="resetGame()">Reset Game</button>

  <h3>Scoreboard</h3>
  <table id="scoreTable">
    <!-- Dynamic Table -->
  </table>

  <script>
    let players = [];
    let rounds = [];

    function addPlayer() {
      const name = document.getElementById('playerNameInput').value.trim();
      if (!name) return alert('Enter a player name.');
      if (players.includes(name)) return alert('Player already exists.');

      players.push(name);
      for (const round of rounds) {
        round.scores.push(0);
      }
      document.getElementById('playerNameInput').value = '';
      renderTable();
    }

    function addRound() {
      const newRound = {
        scores: Array(players.length).fill(0)
      };
      rounds.push(newRound);
      renderTable();
    }

    function updateScore(roundIndex, playerIndex, value) {
      const score = parseInt(value);
      if (!isNaN(score)) {
        rounds[roundIndex].scores[playerIndex] = score;
        renderTable(); // refresh totals
      }
    }

    function resetGame() {
      if (confirm('Reset the game? This will clear all data.')) {
        players = [];
        rounds = [];
        renderTable();
      }
    }

    function renderTable() {
      const table = document.getElementById('scoreTable');
      table.innerHTML = '';

      if (players.length === 0) {
        table.innerHTML = '<tr><td colspan="100%">No players yet.</td></tr>';
        return;
      }

      // Header row
      const headerRow = document.createElement('tr');
      headerRow.innerHTML = `<th>Round</th>`;
      for (const player of players) {
        headerRow.innerHTML += `<th>${player}</th>`;
      }
      table.appendChild(headerRow);

      // Round rows
      rounds.forEach((round, roundIndex) => {
        const row = document.createElement('tr');
        row.innerHTML = `<td>Round ${roundIndex + 1}</td>`;
        round.scores.forEach((score, playerIndex) => {
          row.innerHTML += `
            <td>
              <input type="number" value="${score}" 
                onchange="updateScore(${roundIndex}, ${playerIndex}, this.value)" />
            </td>`;
        });
        table.appendChild(row);
      });

      // Totals row
      const totalRow = document.createElement('tr');
      totalRow.innerHTML = `<td><strong>Total</strong></td>`;

      players.forEach((_, playerIndex) => {
        let total = 0;
        for (const round of rounds) {
          total += round.scores[playerIndex] || 0;
        }
        totalRow.innerHTML += `<td><strong>${total}</strong></td>`;
      });

      table.appendChild(totalRow);
    }
  </script>

</body>
</html>
